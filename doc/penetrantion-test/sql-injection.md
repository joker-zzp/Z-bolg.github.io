# sql-injecton

### 找网站中的注入点

1. 判断网站使用的动态语言
  + 一般常用的都是php, jsp, asp 的，可以通过修改网页的后缀名即可判断
    > 例如:    
    > `http://***.com/index.html` 将`index.html` 修改成`index.php` 如果页面没有报错正确显示了 说明网站使用的是php语言，其他语言也如此判断即可
2. 找出有可能出现的注入点
  + 寻找有没有网址尾部是 `http://***.com/index/doc?id=1` 这样的页面
  + 页面伪静态 `/index/doc/id/1.html` 这样的页面也是通过给id传值在把路径处理一下显示的，实际和 `/index/doc?id=1` 是一样的，修改成这样的路径也可以正常访问的
3. 判断有可能出现的注入点有没有注入漏洞
  + 在网页 `/index/doc?id=1` 后面加上自己写的sql语句，通过页面返回的是不是正确的就可以判断出网站有没有sql注入漏洞
    > 例如：  
    > `http://***.com/index/doc/id/1.html` 修改网址 `http://***.com/index/doc?id=1` 页面没有报错这是一个可以尝试注入的注入点  
    > 测试简单的注入 `index/doc?id=1 and 1=1` 也面应该返回正确的页面 `index/doc?id=1 and 1=2` 页面如果返回一个错误的页面说明这里有注入的漏洞  
    > 如果网站返回的信息不是正确的也不是错误的，而报的是405或者是其他的页面有可能网站已经过滤掉了这样的关键字  
    > 如果网站返回的是一个攻击警告页面，或者是非法参数的页面，说明这是网站装了安全狗或防火墙，可以尝试过狗过墙的注入方法测试有没有注入点
  + 判断注入点的语句
    > and 1=1 # 返回正确的页面 and 1=2 # 返回错误的页面
    > or 1=2 # 返回正确的页面 or 1=1 # 返回错误的页面
  + 利用order by 语句判断字段长度
    > 这个语句需要页面在返回错误的情况下会知道页面的字段长度是多少
    > 例如：  
    > index/doc?id=1 order by 20 页面没有报错说明这个字段长度大于20 如果报错 说明字段小于20
  + 接下来利用union 连表查询爆出数据的一些关键信息
    > 简单语句 `and 1=2 union select 1,2,3,4,5... form information_schema.tables`
    > 这里的 `1,2,3,4... `是 `order by` 返回的字段长度，这样进行查询是为了将想要的结果出现在那个有漏洞的页面字段上
    > 
